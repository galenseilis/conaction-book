<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.189">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>ConAction, Second Edition. - 5&nbsp; ConAction</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./mtn-pine-beetle.html" rel="next">
<link href="./new.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">ConAction</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">ConAction, Second Edition.</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Prefaces</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./abstract.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Abstract</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./previous.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Previous Instantiations of the Trinity of Covariation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./new.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">New Instantiations of The Trinity of Covariation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./software.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">ConAction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mtn-pine-beetle.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Correlational Sufficiency of an Isolation by Distance Model of Mountain Pine Beetle in Western North America</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discussion_conclusions.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Discussion and Conclusions</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./citation.html" class="sidebar-item-text sidebar-link">Citation</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#installation" id="toc-installation" class="nav-link active" data-scroll-target="#installation"><span class="toc-section-number">5.1</span>  Installation</a></li>
  <li><a href="#dependencies" id="toc-dependencies" class="nav-link" data-scroll-target="#dependencies"><span class="toc-section-number">5.2</span>  Dependencies</a></li>
  <li><a href="#features-by-module" id="toc-features-by-module" class="nav-link" data-scroll-target="#features-by-module"><span class="toc-section-number">5.3</span>  Features by Module</a></li>
  <li><a href="#testing" id="toc-testing" class="nav-link" data-scroll-target="#testing"><span class="toc-section-number">5.4</span>  Testing</a></li>
  <li><a href="#algorithmic-complexity" id="toc-algorithmic-complexity" class="nav-link" data-scroll-target="#algorithmic-complexity"><span class="toc-section-number">5.5</span>  Algorithmic Complexity</a>
  <ul class="collapse">
  <li><a href="#estimators" id="toc-estimators" class="nav-link" data-scroll-target="#estimators"><span class="toc-section-number">5.5.1</span>  Estimators</a></li>
  <li><a href="#numparam-and-symparam" id="toc-numparam-and-symparam" class="nav-link" data-scroll-target="#numparam-and-symparam"><span class="toc-section-number">5.5.2</span>  NumParam and SymParam</a></li>
  </ul></li>
  <li><a href="#performance" id="toc-performance" class="nav-link" data-scroll-target="#performance"><span class="toc-section-number">5.6</span>  Performance</a></li>
  <li><a href="#documentation" id="toc-documentation" class="nav-link" data-scroll-target="#documentation"><span class="toc-section-number">5.7</span>  Documentation</a></li>
  <li><a href="#future-support" id="toc-future-support" class="nav-link" data-scroll-target="#future-support"><span class="toc-section-number">5.8</span>  Future Support</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion"><span class="toc-section-number">5.9</span>  Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">ConAction</span></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<p>We believe that the mathematical functions developed in this thesis are far more likely to be used if there exists a software package that implements them. This is the purpose of ConAction, a Python package we developed as part of this thesis. We chose the Python programming language for its rapid development times, package management system, mathematical libraries, portability, and support for performance and feature enhancements. In this package the user will find tools for computing instances of the Trinity of Covariation on data matrices, numerically on Python functions, or symbolically on computer algebra expressions. This diversity of implementations facilitates ConAction being useful to both theoreticians and practitioners.</p>
<p>In this chapter we cover the installation of ConAction, its dependencies, the main features, our testing approach, the algorithmic complexity of the implemented algorithms, some run time performance analysis, our approach to documentation of ConAction, and our plans for future support.</p>
<section id="installation" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="installation"><span class="header-section-number">5.1</span> Installation</h2>
<p>In order to reduce the technical skills required to set up ConAction, it must be easy to install. This is really important because many users give up on using a package if it requires considerable configuration. We also wanted the installation process to be the same on any platform. For these reasons, we use the Python package management system known as Pip. Pip makes it easy to install packages from the Python Package Index (<span class="citation" data-cites="pypi">PyPI (<a href="references.html#ref-pypi" role="doc-biblioref">2003</a>)</span>). Figure <span class="math inline">\(\ref{fig:installation}\)</span> shows how ConAction can be installed with a single command.</p>
<p>Because Pip is available on MacOS, Windows, and various distributions of Linux, the command given in Figure <span class="math inline">\(\ref{fig:installation}\)</span> can be run on practically any desktop. Thus this approach to installation is simple to perform and cross-platform.</p>
</section>
<section id="dependencies" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="dependencies"><span class="header-section-number">5.2</span> Dependencies</h2>
<p>ConAction has dependencies in order to avoid reinventing solutions to solved problems, and to reduce development time. The main submodules of ConAction and their dependencies are given in Figure <span class="math inline">\(\ref{fig:dep_tree}\)</span>.</p>
<p>The supported submodules <code>numparam</code>, <code>estimators</code>, <code>sampling</code>, and <code>symparam</code> all depend upon <code>numpy</code> for either numerical and/or array operations. The <code>scipy</code> package provides the singular values of a correlation matrix and integration techniques in <code>numparam</code> as well as data ranking functions <code>estimators</code>. The <code>tqdm</code> package provides progress bars for some of the functions found in <code>estimators</code> and <code>sampling</code> that potentially take a long time. The <code>pathos</code> package is used for in <code>numparam</code> and <code>estimators</code> to parallelize certain loops (<span class="citation" data-cites="McKerns2010">McKerns and Aivazis (<a href="references.html#ref-McKerns2010" role="doc-biblioref">2010</a>)</span>). We preferred the <code>pathos</code> package over the <code>multiprocessing</code> package in the standard Python library because it uses <code>dill</code> instead of <code>pickle</code> to serialize objects, and <code>dill</code> covers a wider range of cases including nested functions (<span class="citation" data-cites="McKerns2011">McKerns et al. (<a href="references.html#ref-McKerns2011" role="doc-biblioref">2011</a>)</span>). The <code>networkx</code> package is used in computing grade entropies by providing graph algorithms and data structures related to the lattice representation of a partial order.</p>
</section>
<section id="features-by-module" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="features-by-module"><span class="header-section-number">5.3</span> Features by Module</h2>
<p>The ConAction package is organized into multiple sub-modules to support different features (Figure <span class="math inline">\(\ref{fig:conactionmodules}\)</span>). The same function names are used for a given mathematical function in different modules to make it easier for users to remember which command they want. But this also means that users of ConAction must also adhere quite strictly to the instructions in the Python Enhancement Proposal version 8 (PEP8) to avoid wildcard imports of the form <code>from &lt;module&gt; import *</code> because names can be overwritten in the namespace (<span class="citation" data-cites="Rossum2001">Rossum, Warsaw, and Coghlan (<a href="references.html#ref-Rossum2001" role="doc-biblioref">2001</a>)</span>). Rather we intend for users to import a submodule of ConAction, and use dot notation to specify the function they wish to use.</p>
<p>The <code>estimators</code> module contains many of the functions that can be computed on data matrices (i.e.&nbsp;tabular data), and thus can be thought of as statistical estimators for most intents and purposes. Table <span class="math inline">\(\ref{tab:conactionfunctions}\)</span> is a summary of the available functions in this submodule.</p>
<p>The example in Figure <span class="math inline">\(\ref{code:estimatorexample}\)</span> shows how the multilinear Pearson correlation coefficient can be estimated from data. Any of the functions in Table <span class="math inline">\(\ref{tab:conactionfunctions}\)</span> can be called in a similar fashion. \</p>
<p>The <code>numparam</code> submodule contains similar functions to <code>estimators</code>, but the purpose and scope differs. While <code>estimators</code> contains estimators to be computed on data matrices, whereas <code>numparam</code> submodule assumes that a mathematical <em>function</em> is known and that numerical integration of the function is desired.</p>
<p>The submodule is most similar to the submodule in its scope. But rather than numerically integrating the statistic as is done in , computes the integrals symbolically.</p>
<p>At this time both and assumes a uniform probability measure, however future development will look at allowing user-specified probability measures.\</p>
<p>The module allows contains resampling methods used in Chapter <span class="math inline">\(\ref{chap:mtnpinebeetle}\)</span>.\</p>
<p>Next we will consider how ConAction has been tested.</p>
</section>
<section id="testing" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="testing"><span class="header-section-number">5.4</span> Testing</h2>
<p>Software testing is an important part of ensuring software quality. Due to the mathematically precise nature of the features of ConAction, it is readily testable by setting up function inputs and checking whether the correct (usually numerical) output is obtained.</p>
<p>The Python standard library includes the <code>doctest</code> module which served as the primary mode of testing this first release of ConAction. Every function in the Conaction code base has a docstring under the function name, including an example input and output. The <code>doctest</code> module can be imported, and running <code>doctest.testmod()</code> function will go through every such example for every function to check if the correct output is given.</p>
<p>As unforeseen cases are found by users, this will require further testing outside the scope of the examples used in the documentation strings. Future testing will make use of the <code>unittest</code> module which is built-in to the standard Python library to perform unit tests.</p>
<p>Thus ConAction has undergone basic testing to ensure a minimal viable product, but can be further tested when unforeseen cases arise.</p>
</section>
<section id="algorithmic-complexity" class="level2" data-number="5.5">
<h2 data-number="5.5" class="anchored" data-anchor-id="algorithmic-complexity"><span class="header-section-number">5.5</span> Algorithmic Complexity</h2>
<p>In this section we will overview the theoretical scalability of the algorithms implemented in ConAction.</p>
<section id="estimators" class="level3" data-number="5.5.1">
<h3 data-number="5.5.1" class="anchored" data-anchor-id="estimators"><span class="header-section-number">5.5.1</span> Estimators</h3>
<p>The submodule has numerous functions that compute expectation operators. When computed on a sample, we took any expectation <span class="math inline">\(\mathbb{E}[U]\)</span> of a random variable <span class="math inline">\(U\)</span> to be estimated by</p>
<p><span class="math display">\[\bar{u} = \frac{1}{m} \sum_{i=1}^m u_i\]</span></p>
<p>where <span class="math inline">\(\bar{u}\)</span> is the sample mean of a sample <span class="math inline">\(\{ u_1, \cdots, u_m \}\)</span>. Computing such an expectation requires <span class="math inline">\(\mathcal{O}(m)\)</span> time and space, but since this is often computed for each variable in a collection of <span class="math inline">\(n\)</span> random variables the complexity often comes to <span class="math inline">\(\mathcal{O}(mn)\)</span> time. While multilinear correlations and Nightingale’s correlation involve more operations than just computing a sample average for each variable, none of them change the resulting complexity when computing using BEDMAS order of operations.\</p>
<p>In computing the Misiak correlation and Trenevski-Maleski correlation we always took the inner product to be the dot product when computed in the submodule. Most of the steps of computing these coefficients are also in <span class="math inline">\(\mathcal{O}(mn)\)</span> of time which is due to computing the inner products of all pairs of variables to obtain a Gram matrix. But the overall time complexity will be that of the algorithm used to compute the determinant of the Gram matrix. We used the function which computes the determinant using a <span class="math inline">\(\mathcal{O}(n^3)\)</span> algorithm based on performing a LU decomposition.\</p>
<p>Computing the partial Agnesian of non-negative order <span class="math inline">\(k \geq 0\)</span> has a complexity in terms of the sample size <span class="math inline">\(m\)</span>, the number of variables <span class="math inline">\(n\)</span> (not inlcuding the parameter <span class="math inline">\(t\)</span>), and the order <span class="math inline">\(k\)</span>. Instead of computing the partial derivatives , they are approximated using</p>
<p><span class="math display">\[\frac{\partial x_j(t)}{\partial t} \approx \frac{x_{i,j} - x_{i-1,j}}{t_i - t_{i-1}}\]</span></p>
<p>where <span class="math inline">\(j \in \{ 1, \cdots, n \}\)</span> and <span class="math inline">\(i \in \{ 1, \cdots, m \}\)</span>. It requires <span class="math inline">\(\mathcal{O}(m)\)</span> time to compute this for a single variable, and consequently requires <span class="math inline">\(\mathcal{O}(mn)\)</span> time for all the variables. Repeating this calculation <span class="math inline">\(k\)</span> times suggests that the overall time complexity is <span class="math inline">\(\mathcal{O}(mnk)\)</span>.\</p>
<p>Calculating grade entropy involves comparing each point to each other point, suggesting at least <span class="math inline">\(\mathcal{O}(m^2)\)</span> time complexity is required, to construct a directed acyclic graph (DAG) of which points dominate other points. But since each point has <span class="math inline">\(n\)</span> components to be compared in a componentwise fashion, the time complexity for constructing the DAG is actually <span class="math inline">\(\mathcal{O}(m^2n)\)</span>. We then perform a transitive reduction on the constructed DAG to convert it to a lattice of the partial order. showed that the time complexity of performing a transitive reduction of a DAG requires the same complexity as a matrix multiplication, which we can assume to be somewhat better than <span class="math inline">\(\mathcal{O}(m^3)\)</span> depending on the implmentation. Our implementation of grade entropy uses the function. At first glance the source code for has only two nested for loops, but within the inner loop there exists a set comprehension in place of a third for loop. Next a topological sort is performed, which requires <span class="math inline">\(\mathcal{O}(|V| + |E|)\)</span> where <span class="math inline">\(V\)</span> and <span class="math inline">\(E\)</span> are the vertex and edge sets of the lattice, respectively . We know that <span class="math inline">\(|V| = m\)</span> and that <span class="math inline">\(|E| \leq |V \times V| = m^2\)</span>, suggesting that we are adding no more than <span class="math inline">\(\mathcal{O}(m^2)\)</span> which is already a factor of <span class="math inline">\(\mathcal{O}(m^2n)\)</span> and is dominated by the <span class="math inline">\(\mathcal{O}(m^3)\)</span> time complexity of computing a transitive reduction. Thus the topological sort in our implementation does not add to the complexity. The remaining steps of looping over the nodes in topological order, counting the distinct grades, and computing the entropy are all linear complexity or dominated by linear complexity, and thus do not change the time complexity in terms of either <span class="math inline">\(m\)</span> or <span class="math inline">\(n\)</span>.\</p>
<p>The algorithm we implemented for computing a pseudograde entropy based on a strict product order has a better time complexity than that of our grade entropy implementation because it does not require performing a transitive reduction. Similarly to grade entropy, every point is compared to each other point in a componentwise fashion giving a <span class="math inline">\(\mathcal{O}(m^2n)\)</span> time complexity in order to occupy an <span class="math inline">\(m \times m\)</span> adjacency matrix. Summing this matrix along one of the index sets provides an array of the pseudogrades of the points. Counting the distinct pseudogrades from this array, normalizing them into probabilities, and computing the entropy all take linear-or-better time and therefore do not further change the complexity.</p>
</section>
<section id="numparam-and-symparam" class="level3" data-number="5.5.2">
<h3 data-number="5.5.2" class="anchored" data-anchor-id="numparam-and-symparam"><span class="header-section-number">5.5.2</span> NumParam and SymParam</h3>
<p>The complexity of the functions computed in <code>numparam</code> and <code>symparam</code> are more difficult to consider than those in the <code>estimator</code> module because (possibly non-constant) functions are considered rather than a data matrix.</p>
<p>Each function scales linearly in the number of functions it takes as input just as its counterpart in the <code>estimators</code> submodule scales linearly in the number of variables. But since we are no longer considering a sample of size <span class="math inline">\(m\)</span> but rather a collection of functions either at a point or over an interval, the scalability in terms of <span class="math inline">\(m\)</span> does not apply. In the case of the Agnesian operators, both differentiation and integration are considered whereas the various correlation coefficients all require integration.</p>
<p>We refer the interested reader to <code>scipy.integrate.quad</code> in the SciPy documentation for further reading of how the integration in <code>numparam</code> works, and to the the SymPy documentation for information about how integrals are symbolically computed in <code>symparam</code>.</p>
</section>
</section>
<section id="performance" class="level2" data-number="5.6">
<h2 data-number="5.6" class="anchored" data-anchor-id="performance"><span class="header-section-number">5.6</span> Performance</h2>
<p>Run time performance tests were used to ensure that (1) the code ran in a reasonable amount of time, and (2) compare to a pure Python implementation that we called “naïve” in that it did not utilize certain optimization strategies. Putting aside the choice of algorithm, there were two main approaches we took to implementing functions in ConAction to improve the run time performance.</p>
<p>The first was to avoid dynamic typing when it is safe to assume static types. This is exemplified by Figure <span class="math inline">\(\ref{fig:intextperformance}\)</span>(a) where the multilinear correlation coefficient was computed on increasing sample sizes with either dynamic typing (<code>naive.py</code>) or static typing (<code>estimators.py</code>). Using static typing can provide an order of magnitude or more improvement in rune times, which is used heavily as a strategy for improving the performance of functions in .</p>
<p>The second strategy to improve performance was to parellelize any nested loops. We chose not to parallelize every function because many of them would run slower due to the process (i.e.&nbsp;thread) management overhead. In the case of the <code>pseudograde_entropy</code> there exists a nested for loop, and parallelizing the inner loop had a marked improvement in performance for large input sizes. Figure <span class="math inline">\(\ref{fig:intextperformance}\)</span>(b) illustrates two effects of changing the number of threads working on computing the pseudograde entropy using the function. The first effect is that there is increasing overhead as the number of threads increases, which is most evident for the smaller sample sizes where using fewer threads was actually faster. The second effect is the improved scalability of using more threads, which can be inferred from Figure <span class="math inline">\(\ref{fig:intextperformance}\)</span>(b) by noticing that using 64 threads gave a nearly flat response to increasing the sample size up to <span class="math inline">\(10^4\)</span> from <span class="math inline">\(2\)</span> whereas using 1 or 2 threads had a noticable increase in runtime by an order of magnitude.</p>
<p>Other minor improvements were made in the implementation. For example, multilinear correlation coefficients and Nightingale’s correlation coefficient involve computing <span class="math inline">\(n\)</span>th roots in their denominator, which were computed only once by taking advantage of the distributive property of multiplication that entails <span class="math inline">\(\sqrt[n]{\prod_{j=1}^n x_j} = \prod_{j=1}^n \sqrt[n]{x_j}\)</span>. This does not affect the algorithmic complexity classes these functions have as the sample size or number of variables increases, but it is expected to slightly improve run time and numerical precision.</p>
<p>There are also optional ways to improve the performance of ConAction either by using auxillary packages or by changing the data type of the input data.</p>
<p>Because the makes heavy use of the NumPy package, we can use the Numba package which is designed to interroperate with NumPy to increase its performance. Numba provides options for parallelism, just-in-time compiling, and ahead-of-time compiling. Numba is not a dependency for ConAction because at the time of writing the latest version of Numba was not compatible with the latest version of NumPy under Python 3.10, but this may change in the future.</p>
<p>We can also make some adjustments for when the input data matrix is very large and/or sparse. The function can be used to create a virtual memory representation of an array that can be used like any ordinary NumPy array, including as a data matrix in ConAction. Using virtual memory involves using hard drive space, so the increase in apparent memory comes at the cost of run time because of the added input-output (IO) between memory and the hard drive. Likewise, the submodule of SciPy contains classes for sparse matrices that can also be used like ordinary NumPy arrays in ConAction, which can dramatically improve the effective short-term storage space.</p>
<p>In this section we discussed how ConAction has some built-in performance enhancements, and the availability of tools for increasing performance when coding large or sparse data matrices.</p>
</section>
<section id="documentation" class="level2" data-number="5.7">
<h2 data-number="5.7" class="anchored" data-anchor-id="documentation"><span class="header-section-number">5.7</span> Documentation</h2>
<p>While being easy to install and use are essential requirements for any scientific computing package, it is likewise important that the software package is well-communicated. One of the ways that a software package can be communicated is through effective documentation.</p>
<p>In this thesis we used two forms of documentation in a integrated way thanks to modern package development tools.</p>
<p>The first for was to include documentation strings within every function and class definition so that programmers inspecting the code can understand the gist of what is entailed in the code. This form of documentation can be found throughout the original source files if inspected, however calling the built-in Python function will also display these documentation string.</p>
<p>The second form of documentation was generated from the former by a combination of tools including Sphinx and Autodoc, which allowed us to automatically generate HTML documentation based on a combination of the documentation strings we wrote and some additional restructured text files we provided. This improves the maintainability of the software by ensuring that changes need to only be made in one or two places when a change to the source code is made. The documentation is hosted at , but it can also be built locally by going to the path and calling the command.</p>
</section>
<section id="future-support" class="level2" data-number="5.8">
<h2 data-number="5.8" class="anchored" data-anchor-id="future-support"><span class="header-section-number">5.8</span> Future Support</h2>
<p>We will continue to support the ConAction Python package through its GitHub repository after the completion of this thesis. This includes addressing issues raised by users about the correctness and performance of the code, considering feature requests, and keeping the package compatible with supported versions of dependencies.</p>
</section>
<section id="conclusion" class="level2" data-number="5.9">
<h2 data-number="5.9" class="anchored" data-anchor-id="conclusion"><span class="header-section-number">5.9</span> Conclusion</h2>
<p>ConAction is a Python package which provides researchers and data analysts with functions for computing various notions of coordinated change in structures. While ConAction is not yet a mature software due to only recently being released to the public, it has undergone testing for performance and correctness, it is documented, and has a framework for further development and support.</p>
<p>The starting set of features in ConAction it suitable for supporting simulation studies, empirical research, and theoretical research.</p>


<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography" style="display: none">
<div id="ref-McKerns2010" class="csl-entry" role="doc-biblioentry">
McKerns, Michael M., and Michael A. G. Aivazis. 2010. <span>“Pathos: A Framework for Heterogenous Computing.”</span> <em>GitHub</em>. <a href="https://uqfoundation.github.io/project/pathos">https://uqfoundation.github.io/project/pathos</a>.
</div>
<div id="ref-McKerns2011" class="csl-entry" role="doc-biblioentry">
McKerns, Michael M., Leif Strand, Tim Sullivan, Alta Fang, and Michael A. G. Aivazis. 2011. <span>“Building a Framework for Predictive Science.”</span> <em>Proceedings of the 10th Python in Science Conference</em>.
</div>
<div id="ref-pypi" class="csl-entry" role="doc-biblioentry">
PyPI. 2003. <span>“Python Package Index - PyPI.”</span> Python Software Foundation. <a href="https://pypi.org/">https://pypi.org/</a>.
</div>
<div id="ref-Rossum2001" class="csl-entry" role="doc-biblioentry">
Rossum, Guido van, Barry Warsaw, and Nick Coghlan. 2001. <span>“Style Guide for <span>Python</span> Code.”</span> PEP 8. Python Software Foundation. <a href="https://www.python.org/dev/peps/pep-0008/">https://www.python.org/dev/peps/pep-0008/</a>.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./new.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">New Instantiations of The Trinity of Covariation</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./mtn-pine-beetle.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Correlational Sufficiency of an Isolation by Distance Model of Mountain Pine Beetle in Western North America</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>